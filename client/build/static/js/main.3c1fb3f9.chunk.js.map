{"version":3,"sources":["components/common/Navbar/AuthorizedNav.jsx","components/Basket/Basket.jsx","components/common/Navbar/UnauthorizedNav.jsx","components/common/Navbar/Navbar.jsx","components/common/Footer/Footer.jsx","components/forms/Login/Login.jsx","components/forms/Register/Register.jsx","components/Welcome/Welcome.jsx","App/AppRouter.jsx","components/common/Toast/Toast.jsx","App/App.jsx","serviceWorker.js","index.js","services/user-service.js","store/store.jsx","components/NavLink/NavLink.jsx","components/forms/InputField.jsx","services/product-service.js","components/buttons/SubmitButton/SubmitButton.jsx","hocs/withForm.jsx","store/actions.js","components/buttons/IconButton/IconButton.jsx","components/common/Loader/Loader.jsx"],"names":["useStyles","makeStyles","theme","navLink","color","palette","primary","text","padding","fontWeight","borderRadius","textDecoration","display","alignContent","alignItems","backgroundColor","main","marginRight","AuthorizedNav","props","classes","dispatch","useContext","StoreContext","history","useHistory","Grid","container","justify","item","xs","spacing","className","NavLink","to","icon","title","handler","logout","push","Basket","basket","JSON","parse","window","localStorage","getItem","reduce","acc","curr","count","productQuantityCart","price","Badge","badgeContent","IconButton","attr","toFixed","UnauthorizedNav","grow","flexGrow","breakpoints","up","logo","height","width","toolbar","Navbar","state","AppBar","position","Toolbar","src","alt","isAuth","createStyles","subheader","background","paper","appBar","top","bottom","copyright","margin","link","Footer","Typography","variant","align","Link","href","Date","getFullYear","marginTop","marginBottom","flexDirection","border","boxShadow","avatar","form","pointerEvents","schema","yup","shape","email","required","password","min","withForm","changeHandlerFactory","formState","runValidations","runControlValidation","formIsInvalid","handleOnChangeEmail","handleOnChangePassword","handleSubmit","useCallback","e","preventDefault","then","formData","login","Container","component","maxWidth","CssBaseline","Avatar","onSubmit","InputField","label","name","changeHandler","type","FormControlLabel","control","Checkbox","value","SubmitButton","disabled","rePassword","oneOf","handleOnChangeName","handleOnChangeRePassword","register","img","header","fontSize","signature","bottomImg","bottomContent","left","transform","bottomContainer","textAlign","Welcome","fixed","content","Details","React","lazy","List","Cart","Create","Checkout","ThankYou","NotFound","AppRouter","path","exact","Toast","useEffect","toast","status","message","autoClose","createMuiTheme","App","ThemeProvider","Suspense","fallback","Loader","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","baseUrl","userService","data","axios","post","withCredentials","get","initialState","cookie","split","key","user","products","images","cart","actionMap","ActionTypes","Login","LoginSuccess","LoginFailure","Register","RegisterSuccess","RegisterFailure","Logout","CreateProduct","CreateProductSuccess","CreateProductFailure","addToCart","addToCartSuccess","product","quantity","currentProduct","find","p","_id","indexOf","concat","setItem","stringify","addToCartFailure","updateQuantity","updateQuantitySuccess","index","updateQuantityFailure","removeItemFromCart","removeItemFromCartSuccess","filter","removeItemFromCartFailure","resetCart","resetCartSuccess","resetCartFailure","getProducts","getProductsSuccess","getProductsFailure","getUserProducts","getUserProductsSuccess","getUserProductsFailure","deleteProduct","deleteProductSuccess","deleteProductFailure","asyncActionMap","id","token","loginSuccess","loginFailure","clear","logoutSuccess","logoutFailure","productService","createProduct","createProductSuccess","createProductFailure","registerSuccess","registerFailure","getProductById","getAllProducts","storeReducer","action","payload","createContext","ContextStore","useReducer","useMemo","asyncActionHandler","children","onClick","undefined","fullWidth","onChange","onBlur","errors","helperText","updateProduct","put","delete","checkoutOrder","client","submit","Cmp","useState","setState","clearTimeout","newValue","target","validate","abortEarly","err","inner","controlName","fields","isValidSync","Symbol","LogoutSuccess","LogoutFailure","mapIcon","edit","more","remove","add","camera","close","handleIcon","loader","justifyContent","size"],"mappings":"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","file":"static/js/main.3c1fb3f9.chunk.js","sourcesContent":["import React, { Fragment, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport { logout } from '../../../store/actions';\r\nimport { StoreContext } from '../../../store/store';\r\nimport NavLink from '../../NavLink/NavLink';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  navLink: {\r\n    '& a': {\r\n      color: theme.palette.primary.text,\r\n      padding: '10px',\r\n      fontWeight: 'bold',\r\n      borderRadius: '20px',\r\n      textDecoration: 'none',\r\n      display: 'flex',\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      '&:hover': {\r\n        backgroundColor: theme.palette.primary.text,\r\n        color: theme.palette.primary.main,\r\n      },\r\n      '& span.material-icons': {\r\n        marginRight: '10px',\r\n      },\r\n    },\r\n  },\r\n}));\r\nconst AuthorizedNav = (props) => {\r\n  const classes = useStyles();\r\n  const { dispatch } = useContext(StoreContext);\r\n  const history = useHistory();\r\n\r\n  const handlerLogout = () => {\r\n    dispatch(logout());\r\n    history.push('/');\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <Grid\r\n        container\r\n        justify=\"flex-start\"\r\n        alignItems=\"flex-start\"\r\n        item\r\n        xs={6}\r\n        spacing={1}\r\n        className={classes.navLink}\r\n      >\r\n        <Grid container item xs={4}>\r\n          <NavLink to={'/'} icon={'home'} title={'Начало'} />\r\n        </Grid>\r\n        <Grid container item xs={4}>\r\n          <NavLink\r\n            to={'/add-product'}\r\n            icon={'add_business'}\r\n            title={'Добави продукт'}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        item\r\n        xs={5}\r\n        spacing={1}\r\n        className={classes.navLink}\r\n        justify=\"flex-end\"\r\n        alignItems=\"flex-end\"\r\n      >\r\n        <Grid container item xs={4}>\r\n          <NavLink\r\n            to={'/my-products'}\r\n            icon={'account_circle'}\r\n            title={'Моите продукти'}\r\n          />\r\n        </Grid>\r\n        <Grid container item xs={4}>\r\n          <NavLink\r\n            to={'#'}\r\n            icon={'cancel'}\r\n            title={'Излез'}\r\n            handler={handlerLogout}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nAuthorizedNav.propTypes = {\r\n  history: PropTypes.object,\r\n};\r\n\r\nexport default AuthorizedNav;\r\n","import React from 'react';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport IconButton from '../buttons/IconButton/IconButton';\r\nimport NavLink from '../NavLink/NavLink';\r\n\r\nconst Basket = (props) => {\r\n  const cart = JSON.parse(window.localStorage.getItem('cart'));\r\n  const basket = (cart || []).reduce(\r\n    (acc, curr) => {\r\n      const count = acc.count + curr.productQuantityCart;\r\n      const price = acc.price + curr.price * curr.productQuantityCart;\r\n      return { count, price };\r\n    },\r\n    { count: 0, price: 0 }\r\n  );\r\n\r\n  return (\r\n    <NavLink to={'/cart'}>\r\n      <Badge badgeContent={basket.count} color=\"secondary\">\r\n        <IconButton icon=\"basket\" attr={{ color: 'inherit' }} />\r\n      </Badge>\r\n      <p> - {basket.price.toFixed(2)} лв.</p>\r\n    </NavLink>\r\n  );\r\n};\r\n\r\nexport default Basket;\r\n","import React, { Fragment } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport Basket from '../../Basket/Basket';\r\nimport NavLink from '../../NavLink/NavLink';\r\nconst useStyles = makeStyles((theme) => ({\r\n  navLink: {\r\n    '& a': {\r\n      color: theme.palette.primary.text,\r\n      padding: '10px',\r\n      fontWeight: 'bold',\r\n      borderRadius: '20px',\r\n      textDecoration: 'none',\r\n      display: 'flex',\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      '&:hover': {\r\n        backgroundColor: theme.palette.primary.text,\r\n        color: theme.palette.primary.main,\r\n      },\r\n      '& span.material-icons': {\r\n        marginRight: '10px',\r\n      },\r\n    },\r\n  },\r\n}));\r\nconst UnauthorizedNav = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Fragment>\r\n      <Grid\r\n        container\r\n        justify=\"flex-start\"\r\n        alignItems=\"flex-start\"\r\n        item\r\n        xs={6}\r\n        spacing={1}\r\n        className={classes.navLink}\r\n      >\r\n        <Grid container item xs={4}>\r\n          <NavLink to={'/'} icon={'home'} title={'Начало'} />\r\n        </Grid>\r\n        <Grid container item xs={4}>\r\n          <NavLink\r\n            to={'/shop'}\r\n            icon={'store_mall_directory'}\r\n            title={'Магазин'}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        item\r\n        xs={4}\r\n        spacing={1}\r\n        className={classes.navLink}\r\n        justify=\"flex-end\"\r\n        alignItems=\"flex-end\"\r\n      >\r\n        <Grid container item xs={4}>\r\n          <NavLink to={'/login'} icon={'login'} title={'Влез'} />\r\n        </Grid>\r\n        <Grid container item xs={4}>\r\n          <NavLink\r\n            to={'/register'}\r\n            icon={'perm_identity'}\r\n            title={'Регистрация'}\r\n          />\r\n        </Grid>\r\n        <Grid container item xs={4}>\r\n          <Basket />\r\n        </Grid>\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\n\r\nexport default UnauthorizedNav;\r\n","import React, { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Grid } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AuthorizedNav from './AuthorizedNav';\r\nimport UnauthorizedNav from './UnauthorizedNav';\r\nimport { StoreContext } from '../../../store/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  logo: {\r\n    height: '80px',\r\n    width: '100px',\r\n    padding: '10px',\r\n  },\r\n\r\n  toolbar: {\r\n    color: theme.palette.primary.text,\r\n  },\r\n}));\r\n\r\nconst Navbar = () => {\r\n  const classes = useStyles();\r\n  const { state } = useContext(StoreContext);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar className={classes.toolbar}>\r\n          <Grid container justify=\"center\" alignItems=\"center\" spacing={1}>\r\n            <Grid container alignItems=\"center\" item xs={1}>\r\n              <img src=\"/ruevite.png\" className={classes.logo} alt='img'/>\r\n            </Grid>\r\n            {state.isAuth ? (\r\n              <AuthorizedNav history={history} />\r\n            ) : (\r\n              <UnauthorizedNav />\r\n            )}\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;","import React, { Fragment } from 'react';\r\nimport {Toolbar, Typography, Link} from '@material-ui/core';\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    subheader: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    appBar: {\r\n      top: 'auto',\r\n      bottom: 0,\r\n      backgroundColor: theme.palette.primary,\r\n      color: theme.palette.primary.text,\r\n    },\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    copyright: {\r\n      margin: 'auto',\r\n    },\r\n    link: {\r\n      textDecoration: 'none',\r\n      color: 'inherit',\r\n    },\r\n  })\r\n);\r\n\r\nconst Footer = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <div className={classes.copyright}>\r\n          <Toolbar>\r\n            <Typography variant=\"body2\" align=\"center\">\r\n              {'Copyright © '}\r\n              <Link className={classes.link} href=\"#\">\r\n                Your Website\r\n              </Link>{' '}\r\n              {new Date().getFullYear()}\r\n            </Typography>\r\n          </Toolbar>\r\n        </div>\r\n      </AppBar>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useContext, useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport * as yup from 'yup';\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n} from '@material-ui/core/';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport withForm from '../../../hocs/withForm';\r\nimport { StoreContext } from '../../../store/store';\r\nimport { login } from '../../../store/actions';\r\nimport InputField from '../InputField';\r\nimport SubmitButton from '../../buttons/SubmitButton/SubmitButton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(14),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    border: `solid 1px ${theme.palette.primary.text}`,\r\n    padding: '30px',\r\n    borderRadius: '20px',\r\n    boxShadow: `3px 3px 5px ${theme.palette.primary.text}`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.text,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  link: {\r\n    pointerEvents: 'fill',\r\n  },\r\n}));\r\n\r\nconst Login = ({\r\n  changeHandlerFactory,\r\n  formState,\r\n  runValidations,\r\n  runControlValidation,\r\n  formIsInvalid,\r\n}) => {\r\n  const classes = useStyles();\r\n  const { dispatch } = useContext(StoreContext);\r\n  const history = useHistory();\r\n  const handleOnChangeEmail = changeHandlerFactory('email');\r\n  const handleOnChangePassword = changeHandlerFactory('password');\r\n\r\n  const handleSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      runValidations().then((formData) => {\r\n        dispatch(login(formData));\r\n        history.push('/');\r\n      });\r\n    },\r\n    [ dispatch, runValidations]\r\n  );\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Влез\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <InputField\r\n                label={'Email адрес'}\r\n                name={'email'}\r\n                changeHandler={handleOnChangeEmail}\r\n                runControlValidation={runControlValidation}\r\n                formState={formState}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <InputField\r\n                label={'Парола'}\r\n                name={'password'}\r\n                changeHandler={handleOnChangePassword}\r\n                runControlValidation={runControlValidation}\r\n                formState={formState}\r\n                type={'password'}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Запомни\"\r\n          />\r\n          <SubmitButton disabled={formIsInvalid()} title={'Влез'} />\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to=\"/login\" variant=\"body2\">\r\n                Забравена парола?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/register\" variant=\"body2\" className={classes.link}>\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst schema = yup.object().shape({\r\n  email: yup.string().required('Email is required'),\r\n  password: yup\r\n    .string()\r\n    .required('Password is required')\r\n    .min(6, 'Password must be at least 6 symbols'),\r\n});\r\n\r\nconst initialState = {\r\n  email: '',\r\n  password: '',\r\n};\r\n\r\nLogin.propTypes = {\r\n  changeHandlerFactory: PropTypes.func,\r\n  formState: PropTypes.object,\r\n  runValidations: PropTypes.func,\r\n  runControlValidation: PropTypes.func,\r\n  formIsInvalid: PropTypes.func,\r\n  history: PropTypes.object,\r\n};\r\n\r\nexport default withForm(Login, initialState, schema);\r\n","import React, { useContext, useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport * as yup from 'yup';\r\nimport {\r\n  CssBaseline,\r\n  Avatar,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n} from '@material-ui/core';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport withForm from '../../../hocs/withForm';\r\nimport { StoreContext } from '../../../store/store';\r\nimport { register } from '../../../store/actions';\r\nimport InputField from '../InputField';\r\nimport SubmitButton from '../../buttons/SubmitButton/SubmitButton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(14),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    border: `solid 1px ${theme.palette.primary.text}`,\r\n    padding: '20px',\r\n    borderRadius: '20px',\r\n    boxShadow: `3px 3px 5px ${theme.palette.primary.text}`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.text,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst Register = ({\r\n  changeHandlerFactory,\r\n  formState,\r\n  runValidations,\r\n  runControlValidation,\r\n  formIsInvalid,\r\n}) => {\r\n  const classes = useStyles();\r\n  const { dispatch } = useContext(StoreContext);\r\n  const history = useHistory();\r\n  const handleOnChangeName = changeHandlerFactory('name');\r\n  const handleOnChangePassword = changeHandlerFactory('password');\r\n  const handleOnChangeEmail = changeHandlerFactory('email');\r\n  const handleOnChangeRePassword = changeHandlerFactory('rePassword');\r\n\r\n  const handleSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      runValidations().then((formData) => {\r\n        dispatch(register(formData));\r\n        history.push('/');\r\n      });\r\n    },\r\n    [history, dispatch, runValidations]\r\n  );\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Регистрация\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <InputField\r\n                label={'Потребителско име'}\r\n                name={'name'}\r\n                changeHandler={handleOnChangeName}\r\n                runControlValidation={runControlValidation}\r\n                formState={formState}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <InputField\r\n                label={'Email адрес'}\r\n                name={'email'}\r\n                changeHandler={handleOnChangeEmail}\r\n                runControlValidation={runControlValidation}\r\n                formState={formState}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <InputField\r\n                label={'Парола'}\r\n                name={'password'}\r\n                changeHandler={handleOnChangePassword}\r\n                runControlValidation={runControlValidation}\r\n                formState={formState}\r\n                type={'password'}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <InputField\r\n                label={'Потвърди парола'}\r\n                name={'rePassword'}\r\n                changeHandler={handleOnChangeRePassword}\r\n                runControlValidation={runControlValidation}\r\n                formState={formState}\r\n                type={'password'}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <SubmitButton disabled={formIsInvalid()} title={'Регистрация'} />\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/login\" variant=\"body2\">\r\n                Имате ли вече регистрация? Влез\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst schema = yup.object().shape({\r\n  name: yup.string().required('Name is required'),\r\n  email: yup\r\n    .string()\r\n    .email('Must be valid email')\r\n    .required('Email is required'),\r\n  password: yup\r\n    .string()\r\n    .required('Password is required')\r\n    .min(6, 'Password must be at least 6 symbols'),\r\n  rePassword: yup\r\n    .string()\r\n    .oneOf([yup.ref('password'), null], 'Password don`t match')\r\n    .required('Password is required')\r\n    .min(6, 'Password must be at least 6 symbols'),\r\n});\r\n\r\nconst initialState = {\r\n  name: '',\r\n  email: '',\r\n  password: '',\r\n  rePassword: '',\r\n};\r\n\r\nRegister.propTypes = {\r\n  changeHandlerFactory: PropTypes.func,\r\n  formState: PropTypes.object,\r\n  runValidations: PropTypes.func,\r\n  runControlValidation: PropTypes.func,\r\n  formIsInvalid: PropTypes.func,\r\n  history: PropTypes.object,\r\n};\r\n\r\nexport default withForm(Register, initialState, schema);\r\n","import React, { Fragment } from 'react';\r\nimport { Grid, Container } from '@material-ui/core/';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  img: {\r\n    height: '90vh',\r\n  },\r\n  header: {\r\n    fontSize: '40px',\r\n    fontWeight: 'bold',\r\n  },\r\n  subheader: {\r\n    fontSize: '28px',\r\n    color: theme.palette.primary.text,\r\n  },\r\n  container: {\r\n    padding: '200px',\r\n  },\r\n  signature: {\r\n    marginTop: '50px',\r\n  },\r\n  bottomImg: {\r\n    width: '100vw',\r\n  },\r\n  bottomContent: {\r\n    position: 'absolute',\r\n    top: '30%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    fontSize: '28px',\r\n  },\r\n  bottomContainer: {\r\n    position: 'relative',\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nconst Welcome = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Fragment>\r\n      <Grid container spacing={1}>\r\n        <Grid item xs={5}>\r\n          <img src=\"/home-background.jpg\" className={classes.img} alt='img' />\r\n        </Grid>\r\n        <Grid container justify=\"center\" alignItems=\"center\" item xs={7}>\r\n          <Container fixed className={classes.container}>\r\n            <p className={classes.subheader}>Руевит Естайт</p>\r\n            <p className={classes.header}>\r\n              Гроздето и виното са част от живота в нашето семейство.\r\n            </p>\r\n            <p className={classes.content}>\r\n              РУЕВИТ ЕСТЕЙТ Хубавите вина започват с най-добрите плодове. Затова\r\n              вече трето поколение участваме в отглеждането и обработването на\r\n              реколтата. Наблюдаваме отблизо всяка една стъпка, за да\r\n              гарантираме и поддържаме възможно най – високото качество. Ние\r\n              правим вината такива, каквито ги обичаме, за да може да усетите и\r\n              вие, нашите приятели, вкуса на истинското вино.\r\n            </p>\r\n            <img src=\"/black-signature.png\" className={classes.signature} alt='img' />\r\n          </Container>\r\n        </Grid>\r\n        <Grid container item xs={12} className={classes.bottomContainer}>\r\n          <img src=\"/wine-yard.jpg\" className={classes.bottomImg} alt='img' />\r\n          <div className={classes.bottomContent}>\r\n            <p className={classes.subheader}>ЛОЗЯ</p>\r\n            <p className={classes.header}>Локация</p>\r\n            <p className={classes.content}>\r\n              ЛОЗЯ Локация Нашите лозови насаждения се намират в землището на\r\n              гр. Бяла черква, област Велико Търново. Територията е известна от\r\n              дълги години с традициите си в отглеждането на грозде.\r\n            </p>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n","import React, { useContext } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Login from '../components/forms/Login/Login';\r\nimport Register from '../components/forms/Register/Register';\r\nimport Welcome from '../components/Welcome/Welcome';\r\nimport { StoreContext } from '../store/store';\r\nconst Details = React.lazy(() => import('../components/products/Details/Details'));\r\nconst List = React.lazy(() => import('../components/products/List/List'));\r\nconst Cart = React.lazy(() => import('../components/Cart/Cart'));\r\nconst Create = React.lazy(() => import('../components/forms/CreateProduct/Create'));\r\nconst Checkout = React.lazy(() => import('../components/forms/Checkout/Checkout'));\r\nconst ThankYou = React.lazy(() => import('../components/ThankYou/ThankYou'));\r\nconst NotFound = React.lazy(() => import('../components/NotFound/NotFound'));\r\nconst AppRouter = () => {\r\n  const { state: { isAuth } } = useContext(StoreContext);\r\n  // const ProtectRoute = ({ path, component}) => {\r\n  //   return isAuth ? <Route path={path} component={component} /> : <Redirect to={'/login'} />\r\n  // }\r\n  // const InnerProtectRoute = ({ path, component}) => {\r\n  //   return isAuth ? <Redirect to={'/'}/> : <Route path={path} component={component} /> \r\n  // }\r\n  return (\r\n    <Switch>\r\n      {/* <InnerProtectRoute path=\"/login\" component={Login} /> */}\r\n      {/* <InnerProtectRoute path=\"/register\" component={Register} /> */}\r\n      {/* <InnerProtectRoute path=\"/cart\" component={Cart} /> */}\r\n      {/* <InnerProtectRoute path=\"/checkout\" component={Checkout} /> */}\r\n      {/* <InnerProtectRoute path=\"/thankyou\" component={ThankYou} /> */}\r\n      {/* <ProtectRoute path={\"/add-product\"} component={Create} /> */}\r\n      {/* <ProtectRoute path={\"/my-products\"} exact component={List} /> */}\r\n      {/* <ProtectRoute path=\"/my-products/:id\" component={List}/> */}\r\n      <Route path=\"/\" exact component={Welcome} />\r\n      <Route path=\"/login\" > \r\n        { isAuth ? <Redirect to={'/'}/> : <Login /> }\r\n      </Route>\r\n      <Route path=\"/register\" > \r\n        { isAuth ? <Redirect to={'/'}/> : <Register /> }\r\n      </Route>\r\n      <Route path=\"/cart\" > \r\n      { isAuth ? <Redirect to={'/'}/> : <Cart /> }\r\n      </Route>\r\n      <Route path=\"/shop\"> \r\n        { isAuth ? <Redirect to={'/'}/> : <List /> }\r\n      </Route>\r\n      <Route path=\"/checkout\"> \r\n        { isAuth ? <Redirect to={'/'}/> : <Checkout /> }\r\n      </Route>\r\n      <Route path=\"/thankyou\"> \r\n        { isAuth ? <Redirect to={'/'}/> : <ThankYou /> }\r\n      </Route>\r\n      <Route path=\"/add-product\" > \r\n        {isAuth ? <Create /> : <Redirect to={'/login'} />}\r\n      </Route>\r\n      <Route path=\"/my-products\" > \r\n        {isAuth ? <List /> : <Redirect to={'/login'} />}\r\n      </Route>\r\n      <Route path=\"/my-products/:id\" > \r\n        {isAuth ? <List /> : <Redirect to={'/login'} />}\r\n      </Route>\r\n      <Route path=\"/details/:id\" component={Details} />\r\n      <Route path=\"*\" component={NotFound} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React, { useEffect, useContext } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { StoreContext } from '../../../store/store';\r\nconst Toast = () => {\r\n  const { state } = useContext(StoreContext);\r\n  useEffect(() => {\r\n    if (!state.toast.status) {\r\n      return;\r\n    }\r\n    const { status, message } = state.toast;\r\n    toast[status](message)\r\n  },[state.toast, state.toast.message]);\r\n  return <ToastContainer autoClose={3000} position=\"bottom-right\" />;\r\n};\r\n\r\nexport default Toast;\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport {\r\n  createMuiTheme,\r\n  ThemeProvider,\r\n} from '@material-ui/core/styles';\r\nimport Context from '../store/store';\r\nimport Navbar from '../components/common/Navbar/Navbar';\r\nimport Footer from '../components/common/Footer/Footer';\r\nimport AppRouter from './AppRouter';\r\nimport Toast from '../components/common/Toast/Toast';\r\nimport Loader from '../components/common/Loader/Loader';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#121212',\r\n      text: '#B0976D',\r\n    },\r\n  },\r\n});\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//   app: {\r\n//     backgroundColor: '#F1F1F1',\r\n//   },\r\n// }));\r\n\r\nfunction App() {\r\n  // const classes = useStyles();\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <BrowserRouter>\r\n        <Context>\r\n          <Toast />\r\n          <Navbar />\r\n          <React.Suspense fallback={ <Loader /> }>\r\n            <AppRouter />\r\n          </React.Suspense>\r\n          <Footer />\r\n        </Context>\r\n      </BrowserRouter>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import axios from 'axios';\r\nconst baseUrl = 'http://localhost:8000/api/auth';\r\n\r\nconst userService = {\r\n  login: function (data) {\r\n    return axios\r\n      .post(baseUrl, data, {\r\n        withCredentials: true,\r\n      })\r\n      .catch(console.error);\r\n  },\r\n  register: function (data) {\r\n    return axios\r\n      .post(`${baseUrl}/register`, data, {\r\n        withCredentials: true,\r\n      })\r\n      .catch(console.error);\r\n  },\r\n  logout: function () {\r\n    return axios\r\n      .get(`${baseUrl}/logout`, { withCredentials: true })\r\n      .catch(console.error);\r\n  },\r\n};\r\n\r\nexport default userService;\r\n","import React, { createContext, useReducer, useMemo } from 'react';\r\nimport {\r\n  ActionTypes,\r\n  loginSuccess,\r\n  loginFailure,\r\n  logoutSuccess,\r\n  logoutFailure,\r\n  createProductSuccess,\r\n  createProductFailure,\r\n  registerSuccess,\r\n  registerFailure,\r\n  addToCartSuccess,\r\n  addToCartFailure,\r\n  getProductsSuccess,\r\n  getProductsFailure,\r\n  getUserProductsSuccess,\r\n  getUserProductsFailure,\r\n  deleteProductSuccess,\r\n  deleteProductFailure\r\n} from './actions';\r\nimport userService from '../services/user-service';\r\nimport productService from '../services/product-service';\r\n\r\nconst cookies = document.cookie.split('; ').reduce((acc, curr) => {\r\n  const [key, value] = curr.split('=');\r\n  acc[key] = value;\r\n  return acc;\r\n}, {});\r\n\r\nconst authCookie = cookies['x-auth-cookie'];\r\n\r\nconst initialState = {\r\n  isAuth: !!authCookie,\r\n  user: JSON.parse(window.localStorage.getItem('user')),\r\n  products: [],\r\n  images: [],\r\n  error: null,\r\n  toast: { status: '', message: '' },\r\n  cart: JSON.parse(window.localStorage.getItem('cart')) || []\r\n\r\n};\r\n\r\nconst actionMap = {\r\n  [ActionTypes.Login]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.LoginSuccess]: (state, { user }) => ({\r\n    ...state,\r\n    user,\r\n    isAuth: true,\r\n    toast: { status: 'success', message: 'You are log successfully' },\r\n  }),\r\n  [ActionTypes.LoginFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n    toast: { status: 'error', message: 'Your login failed' },\r\n  }),\r\n  [ActionTypes.Register]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.RegisterSuccess]: (state, { user }) => ({\r\n    ...state,\r\n    user,\r\n    isAuth: true,\r\n    toast: {\r\n      status: 'success',\r\n      message: 'You are register and login successfully',\r\n    },\r\n  }),\r\n  [ActionTypes.RegisterFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n    toast: { status: 'error', message: 'Your registration failed' },\r\n  }),\r\n  [ActionTypes.Logout]: (state) => ({\r\n    ...state,\r\n    user: null,\r\n    isAuth: false,\r\n    toast: { status: 'success', message: 'You are logout successfully' },\r\n  }),\r\n\r\n  [ActionTypes.CreateProduct]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.CreateProductSuccess]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: {\r\n      status: 'success',\r\n      message: 'You created new product successfully',\r\n    },\r\n  }),\r\n  [ActionTypes.CreateProductFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n    toast: { status: 'error', message: `${error}` },\r\n  }),\r\n  [ActionTypes.addToCart]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.addToCartSuccess]: (state, { product, quantity }) => {\r\n    let products = [...state.cart];\r\n    const currentProduct = products.find((p) => p._id === product._id);\r\n\r\n    if (currentProduct) {\r\n      const index = state.cart.indexOf(currentProduct);\r\n      products[index] = {\r\n        ...currentProduct,\r\n        productQuantityCart: currentProduct.productQuantityCart + quantity ? quantity : 1 ,\r\n      };\r\n    } else {\r\n      products = products.concat({ ...product, productQuantityCart: quantity ? quantity : 1 });\r\n    }\r\n\r\n    window.localStorage.setItem('cart', JSON.stringify(products));\r\n\r\n    return {\r\n      ...state,\r\n      cart: products,\r\n      toast: { status: 'success', message: 'Product add to cart successfully' },\r\n    };\r\n  },\r\n  [ActionTypes.addToCartFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n    toast: { status: 'error', message: 'Something wrong' },\r\n  }),\r\n  [ActionTypes.updateQuantity]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.updateQuantitySuccess]: (state, { product, value }) => {\r\n    let products = [...state.cart];\r\n    const currentProduct = products.find((p) => p._id === product._id);\r\n    const index = products.indexOf(currentProduct);\r\n    products[index] = {\r\n      ...currentProduct,\r\n      productQuantityCart: value,\r\n    };\r\n\r\n    window.localStorage.setItem('cart', JSON.stringify(products));\r\n    \r\n    return { ...state, cart: products, toast: { status: '', message: '' } };\r\n  },\r\n  [ActionTypes.updateQuantityFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n  }),\r\n  [ActionTypes.removeItemFromCart]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.removeItemFromCartSuccess]: (state, { product }) => {\r\n    const products = state.cart.filter((p) => p._id !== product._id);\r\n    window.localStorage.setItem('cart', JSON.stringify(products));\r\n    return { ...state, cart: products };\r\n  },\r\n  [ActionTypes.removeItemFromCartFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n  }),\r\n  [ActionTypes.resetCart]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.resetCartSuccess]: (state) => {\r\n    window.localStorage.setItem('cart', JSON.stringify([]));\r\n\r\n    return { ...state, cart: [] };\r\n  },\r\n  [ActionTypes.resetCartFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n  }),\r\n  [ActionTypes.getProducts]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.getProductsSuccess]: (state, { products }) => ({\r\n      ...state,\r\n      products,\r\n      error: null,\r\n      toast: { status: '', message: '' },\r\n    }),\r\n  [ActionTypes.getProductsFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n    toast: { status: 'error', message: 'Something wrong' },\r\n  }),\r\n  [ActionTypes.getUserProducts]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.getUserProductsSuccess]: (state, { products }) => ({\r\n    ...state,\r\n    products,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.getUserProductsFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n    toast: { status: 'error', message: 'Something wrong' },\r\n  }),\r\n  [ActionTypes.deleteProduct]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: '', message: '' },\r\n  }),\r\n  [ActionTypes.deleteProductSuccess]: (state) => ({\r\n    ...state,\r\n    error: null,\r\n    toast: { status: 'success', message: 'Successfully deleted product' },\r\n  }),\r\n  [ActionTypes.deleteProductFailure]: (state, { error }) => ({\r\n    ...state,\r\n    error,\r\n    toast: { status: 'error', message: 'Something wrong' },\r\n  })\r\n};\r\n\r\nconst asyncActionMap = {\r\n  [ActionTypes.Login]: ({ user }) => {\r\n    return userService\r\n      .login(user)\r\n      .then(({ data: { user } }) => {\r\n        window.localStorage.setItem(\r\n          'user',\r\n          JSON.stringify({ id: user._id, token: user.token })\r\n        );\r\n        return loginSuccess(user);\r\n      })\r\n      .catch((error) => loginFailure(error));\r\n  },\r\n  [ActionTypes.Logout]: () => {\r\n    return userService\r\n      .logout()\r\n      .then(() => {\r\n        window.localStorage.clear();\r\n        return logoutSuccess();\r\n      })\r\n      .catch((error) => logoutFailure(error));\r\n  },\r\n  [ActionTypes.CreateProduct]: ({ product }) => {\r\n    return productService\r\n      .createProduct(product)\r\n      .then(() => createProductSuccess())\r\n      .catch((error) => createProductFailure(error));\r\n  },\r\n  [ActionTypes.Register]: ({ user }) => {\r\n    return userService\r\n      .register(user)\r\n      .then(() => {\r\n        window.localStorage.setItem(\r\n          'user',\r\n          JSON.stringify({ id: user._id, token: user.token })\r\n        );\r\n        return registerSuccess(user);\r\n      })\r\n      .catch((error) => registerFailure(error));\r\n  },\r\n  [ActionTypes.addToCart]: ({ product, quantity }) => {\r\n    return productService\r\n      .getProductById(product._id)\r\n      .then(({ data }) => {\r\n        const currentProduct = data[0];\r\n        return addToCartSuccess(currentProduct, quantity);\r\n      })\r\n      .catch((error) => addToCartFailure(error));\r\n  },\r\n  [ActionTypes.getProducts]:() => {\r\n    return  productService.getAllProducts().then(({ data }) => {\r\n     return getProductsSuccess(data)\r\n    }).catch((error) => getProductsFailure(error))\r\n  },\r\n  [ActionTypes.getUserProducts]:() => {\r\n    return productService.getUserProducts().then(({ data }) => {\r\n     return getUserProductsSuccess(data)\r\n    }).catch((error) => getUserProductsFailure(error))\r\n  },\r\n\r\n  [ActionTypes.deleteProduct]:({ id }) => {\r\n    return productService.deleteProduct(id).then(() => {\r\n     return deleteProductSuccess()\r\n    }).catch((error) => deleteProductFailure(error))\r\n  }\r\n};\r\n\r\nconst storeReducer = (state, action) => {\r\n  return actionMap[action.type]\r\n    ? actionMap[action.type](state, action.payload)\r\n    : state;\r\n};\r\n\r\nexport const StoreContext = createContext(initialState);\r\n\r\nconst ContextStore = (props) => {\r\n  const [state, dispatch] = useReducer(storeReducer, initialState);\r\n  const store = useMemo(\r\n    () => ({\r\n      state,\r\n      dispatch: (action) => {\r\n        const asyncActionHandler = asyncActionMap[action.type];\r\n        if (asyncActionHandler) {\r\n          asyncActionHandler(action.payload).then(dispatch);\r\n        }\r\n        dispatch(action);\r\n      },\r\n    }),\r\n    [state, dispatch]\r\n  );\r\n\r\n  return (\r\n    // <StoreContext.Provider value={[state, dispatch]}>\r\n    <StoreContext.Provider value={store}>\r\n      {props.children}\r\n    </StoreContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ContextStore;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Icon } from '@material-ui/core';\r\nconst NavLink = ({ to, icon, title, handler, children }) => {\r\n  return children ? (\r\n    <Link to={to}>{children}</Link>\r\n  ) : (\r\n    <Button onClick={handler ? handler : undefined}>\r\n      <Link to={to}>\r\n        <Icon>{icon}</Icon> {title}\r\n      </Link>\r\n    </Button>\r\n  );\r\n};\r\n\r\nNavLink.propTypes = {\r\n  to: PropTypes.string.isRequired,\r\n  icon: PropTypes.string,\r\n  title: PropTypes.string,\r\n  handler: PropTypes.func,\r\n  children: PropTypes.node\r\n}\r\n\r\nexport default NavLink;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField } from '@material-ui/core/';\r\nconst InputField = ({\r\n  label,\r\n  name,\r\n  changeHandler,\r\n  formState,\r\n  runControlValidation,\r\n  type,\r\n}) => {\r\n  return (\r\n    <TextField\r\n      variant=\"outlined\"\r\n      margin=\"normal\"\r\n      required\r\n      fullWidth\r\n      name={name}\r\n      label={label}\r\n      id={name}\r\n      type={type === 'password' ? 'password' : 'text'}\r\n      onChange={changeHandler}\r\n      onBlur={runControlValidation(name)}\r\n      error={!!formState.errors && !!formState.errors[name]}\r\n      helperText={formState.errors && formState.errors[name]}\r\n      value={formState.form[name]}\r\n    />\r\n  );\r\n};\r\n\r\nInputField.propTypes = {\r\n  label: PropTypes.string,\r\n  name: PropTypes.string,\r\n  changeHandler: PropTypes.func,\r\n  formState: PropTypes.object,\r\n  runControlValidation: PropTypes.func,\r\n  type: PropTypes.string,\r\n};\r\n\r\nexport default InputField;\r\n","import axios from 'axios';\r\nconst baseUrl = 'http://localhost:8000/api/products';\r\n\r\nconst productService = {\r\n  getAllProducts: function (data) {\r\n    return axios\r\n      .get(baseUrl, {\r\n        withCredentials: true,\r\n      })\r\n      .catch(console.error);\r\n  },\r\n  getProductById: function (id) {\r\n    return axios\r\n      .get(`${baseUrl}/${id}`, {\r\n        withCredentials: true,\r\n      })\r\n      .catch(console.error);\r\n  },\r\n  createProduct: function (data) {\r\n    return axios\r\n      .post(baseUrl, data, {\r\n        withCredentials: true,\r\n      })\r\n      .catch(console.error);\r\n  },\r\n  getUserProducts: function () {\r\n    return axios\r\n      .get(`${baseUrl}/my-products`, {\r\n        withCredentials: true,\r\n      })\r\n      .catch(console.error);\r\n  },\r\n  updateProduct: function (payload) {\r\n    return axios\r\n    .put(`${baseUrl}/${payload._id}`, payload, {\r\n      withCredentials: true,\r\n    });\r\n  },\r\n  deleteProduct: function(id) {\r\n    return axios\r\n      .delete(`${baseUrl}/${id}`,{\r\n        withCredentials: true,\r\n    })\r\n  },\r\n  checkoutOrder: function(cart, client) {\r\n    return axios\r\n      .post(`${baseUrl}/checkout`, { cart, client },{\r\n        withCredentials: true,\r\n    })\r\n  }\r\n};\r\n\r\nexport default productService;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\nconst SubmitButton = ({ title, disabled, onClick }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Button\r\n      type=\"submit\"\r\n      fullWidth\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      className={classes.submit}\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n    >\r\n      {title}\r\n    </Button>\r\n  );\r\n};\r\n\r\nSubmitButton.propTypes = {\r\n  title: PropTypes.string,\r\n  disabled: PropTypes.bool\r\n}\r\n\r\nexport default SubmitButton;\r\n","import React, { useState } from 'react';\r\n\r\nconst withForm = (Cmp, initialState, schema) => {\r\n  return (props) => {\r\n    const [state, setState] = useState({\r\n      form: initialState,\r\n      errors: undefined,\r\n    });\r\n\r\n    const changeHandlerFactory = (name) => {\r\n      let id;\r\n      return (e) => {\r\n        if (id) {\r\n          clearTimeout(id);\r\n          id = null;\r\n        }\r\n        const newValue = e.target.value;\r\n        // id = setTimeout(() => {\r\n        setState(({ form }) => {\r\n          return { form: { ...form, [name]: newValue } };\r\n        });\r\n        // }, 300);\r\n      };\r\n    };\r\n\r\n    const runValidations = () => {\r\n      return schema\r\n        .validate(state.form, { abortEarly: false })\r\n        .then(() => {\r\n          setState({ ...state, errors: undefined });\r\n          return state.form;\r\n        })\r\n        .catch((err) => {\r\n          const errors = err.inner.reduce((acc, { path, message }) => {\r\n            acc[path] = acc[path] ? [...acc[path], message] : [message];\r\n            return acc;\r\n          }, {});\r\n          setState({ ...state, errors });\r\n        });\r\n    };\r\n\r\n    const formIsInvalid = () => {\r\n      return !schema.isValidSync(state.form);\r\n    };\r\n\r\n    const runControlValidation = (controlName) => {\r\n      return () => {\r\n        return schema.fields[controlName]\r\n          .validate(state.form[controlName], { abortEarly: false })\r\n          .then(() =>\r\n            setState({ ...state, errors: { [controlName]: undefined } })\r\n          )\r\n          .catch((err) => {\r\n            // const inputError = err.inner.find((e) => e.path === inputName);\r\n            // if (inputError)\r\n            setState({\r\n              ...state,\r\n              errors: { [controlName]: err.errors },\r\n            });\r\n          });\r\n      };\r\n    };\r\n\r\n    return (\r\n      <Cmp\r\n        {...props}\r\n        changeHandlerFactory={changeHandlerFactory}\r\n        runValidations={runValidations}\r\n        runControlValidation={runControlValidation}\r\n        formIsInvalid={formIsInvalid}\r\n        formState={state}\r\n      />\r\n    );\r\n  };\r\n};\r\n\r\nexport default withForm;\r\n","export const ActionTypes = {\r\n  Login: Symbol('[AUTH] Login'),\r\n  LoginSuccess: Symbol('[AUTH] Login Success'),\r\n  LoginFailure: Symbol('[AUTH] Login Failure'),\r\n\r\n  Register: Symbol('[AUTH] Register'),\r\n  RegisterSuccess: Symbol('[AUTH] Success'),\r\n  RegisterFailure: Symbol('[AUTH] Failure'),\r\n\r\n  Logout: Symbol('[AUTH] Logout'),\r\n  LogoutSuccess: Symbol('[AUTH] Logout Success'),\r\n  LogoutFailure: Symbol('[AUTH] Logout Failure'),\r\n\r\n  CreateProduct: Symbol('[AUTH] Create Product'),\r\n  CreateProductSuccess: Symbol('[AUTH] Create Product Success'),\r\n  CreateProductFailure: Symbol('[AUTH] Create Product Failure'),\r\n\r\n  getProducts: Symbol('[PRODUCTS] Get All Products'),\r\n  getProductsSuccess: Symbol('[PRODUCTS] Get All Products Success'),\r\n  getProductsFailure: Symbol('[PRODUCTS] Get All Products Failure'),\r\n\r\n  getUserProducts: Symbol('[PRODUCTS] Get User Products'),\r\n  getUserProductsSuccess: Symbol('[PRODUCTS] Get User Products Success'),\r\n  getUserProductsFailure: Symbol('[PRODUCTS] Get User Products Failure'),\r\n\r\n  addToCart: Symbol('[PRODUCTS] Add to card'),\r\n  addToCartSuccess: Symbol('[PRODUCTS] Add to card Success'),\r\n  addToCartFailure: Symbol('[PRODUCTS] Add to card Failure'),\r\n\r\n  updateQuantity: Symbol('[PRODUCTS] Update quantity in cart'),\r\n  updateQuantitySuccess: Symbol('[PRODUCTS] Update quantity in cart Success'),\r\n  updateQuantityFailure: Symbol('[PRODUCTS] Update quantity in cart Failure'),\r\n\r\n  removeItemFromCart: Symbol('[PRODUCTS] Remove item from cart'),\r\n  removeItemFromCartSuccess: Symbol('[PRODUCTS] Remove item from cart Success'),\r\n  removeItemFromCartFailure: Symbol('[PRODUCTS] Remove item from cart Failure'),\r\n\r\n  resetCart: Symbol('[PRODUCTS] Reset cart'),\r\n  resetCartSuccess: Symbol('[PRODUCTS] Reset cart Success'),\r\n  resetCartFailure: Symbol('[PRODUCTS] Reset cart Failure'),\r\n\r\n  deleteProduct: Symbol('[PRODUCTS] Delete Product'),\r\n  deleteProductSuccess: Symbol('[PRODUCTS] Delete Product Success'),\r\n  deleteProductFailure: Symbol('[PRODUCTS] Delete Product Failure'),\r\n};\r\n\r\nexport const login = (user) => ({ type: ActionTypes.Login, payload: { user } });\r\nexport const loginSuccess = (user) => ({ type: ActionTypes.LoginSuccess, payload: { user }});\r\nexport const loginFailure = (error) => ({ type: ActionTypes.LoginFailure, payload: { error }});\r\n\r\nexport const register = (user) => ({type: ActionTypes.Register, payload: { user }});\r\nexport const registerSuccess = (user) => ({type: ActionTypes.RegisterSuccess, payload: { user }});\r\nexport const registerFailure = (error) => ({type: ActionTypes.RegisterFailure, payload: { error }});\r\n\r\nexport const logout = () => ({type: ActionTypes.Logout, payload: undefined});\r\nexport const logoutSuccess = () => ({type: ActionTypes.LogoutSuccess, payload: undefined});\r\nexport const logoutFailure  = (error) => ({type: ActionTypes.LogoutFailure, payload: { error }});\r\n\r\nexport const createProduct = (product) => ({ type: ActionTypes.CreateProduct, payload: { product } });\r\nexport const createProductSuccess = () => ({ type: ActionTypes.CreateProductSuccess, payload: undefined});\r\nexport const createProductFailure = (error) => ({ type: ActionTypes.CreateProductFailure, payload: { error }});\r\n\r\nexport const getProducts = () => ({ type: ActionTypes.getProducts, payload: undefined });\r\nexport const getProductsSuccess = (products) => ({ type: ActionTypes.getProductsSuccess, payload: { products }});\r\nexport const getProductsFailure = (error) => ({ type: ActionTypes.getProductsFailure, payload: { error }});\r\n\r\nexport const getUserProducts = () => ({ type: ActionTypes.getUserProducts, payload: undefined });\r\nexport const getUserProductsSuccess = (products) => ({ type: ActionTypes.getUserProductsSuccess, payload: { products }});\r\nexport const getUserProductsFailure = (error) => ({ type: ActionTypes.getUserProductsFailure, payload: { error }});\r\n\r\nexport const addToCart = (product, quantity) => ({ type: ActionTypes.addToCart, payload: { product, quantity } });\r\nexport const addToCartSuccess = (product, quantity) => ({ type: ActionTypes.addToCartSuccess, payload: { product, quantity }});\r\nexport const addToCartFailure = (error) => ({ type: ActionTypes.addToCartFailure, payload: { error }});\r\n\r\nexport const updateQuantity = ({ product, value }) => ({ type: ActionTypes.updateQuantity, payload: { product, value } });\r\nexport const updateQuantitySuccess = ({ product, value }) => ({ type: ActionTypes.updateQuantitySuccess, payload: { product, value }});\r\nexport const updateQuantityFailure = (error) => ({ type: ActionTypes.updateQuantityFailure, payload: { error }});\r\n\r\nexport const removeItemFromCart = (product) => ({ type: ActionTypes.removeItemFromCart, payload: { product } });\r\nexport const removeItemFromCartSuccess = (product) => ({ type: ActionTypes.removeItemFromCartSuccess, payload: { product }});\r\nexport const removeItemFromCartFailure = (error) => ({ type: ActionTypes.removeItemFromCartFailure, payload: { error }});\r\n\r\nexport const resetCart = () => ({ type: ActionTypes.resetCart, payload: undefined });\r\nexport const resetCartSuccess = () => ({ type: ActionTypes.resetCartSuccess, payload: undefined});\r\nexport const resetCartFailure = (error) => ({ type: ActionTypes.resetCartFailure, payload: { error }});\r\n\r\nexport const deleteProduct = (id) => ({ type: ActionTypes.deleteProduct, payload: { id } });\r\nexport const deleteProductSuccess = () => ({ type: ActionTypes.deleteProductSuccess, payload: undefined});\r\nexport const deleteProductFailure = (error) => ({ type: ActionTypes.deleteProductFailure, payload: { error }});","import React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { IconButton as IconButtonMaterial } from '@material-ui/core';\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\nimport {\r\n  ShoppingBasket,\r\n  Delete,\r\n  Edit,\r\n  MoreHoriz,\r\n  Remove,\r\n  Add,\r\n  PhotoCamera,\r\n  Close\r\n} from '@material-ui/icons';\r\n\r\nconst IconButton = ({ handler, icon, attr, children }) => {\r\n  const mapIcon = {\r\n    edit: <Edit />,\r\n    delete: <Delete />,\r\n    more: <MoreHoriz />,\r\n    cart: <AddShoppingCartIcon />,\r\n    basket: <ShoppingBasket />,\r\n    remove: <Remove />,\r\n    add: <Add />,\r\n    camera: <PhotoCamera />,\r\n    close: <Close />\r\n  };\r\n  const handleIcon = useMemo(() => mapIcon[icon], [icon, mapIcon]);\r\n  return (\r\n    <IconButtonMaterial {...attr} onClick={handler}>\r\n      {handleIcon}\r\n      {children}\r\n    </IconButtonMaterial>\r\n  );\r\n};\r\n\r\nIconButton.propTypes = {\r\n  handler: PropTypes.func,\r\n  icon: PropTypes.string.isRequired,\r\n  attr: PropTypes.object,\r\n};\r\n\r\nexport default IconButton;\r\n","import React from 'react';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  loader: {\r\n    margin: 50,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\nconst Loader = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.loader}>\r\n      <CircularProgress color=\"primary\" size={150} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n"],"sourceRoot":""}